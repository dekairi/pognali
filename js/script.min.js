function initErrorEmail(e,t){t.addEventListener("submit",function(t){t.preventDefault(),e.value||(t.preventDefault(),e.classList.add("register__email--error"),e.parentElement&&e.parentElement.classList.add("register--error"))}),e.addEventListener("focus",function(){e.classList.remove("register__email--error"),e.parentElement&&e.parentElement.classList.remove("register--error")})}function initMainlandSwitcher(e){for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(n){n.preventDefault();for(let t=0;t<e.length;t++)e[t].classList.remove("mainland-list__link--selected");e[t].classList.add("mainland-list__link--selected")})}function expandCollapseChooseCountryMenu(e){e.addEventListener("click",function(){e.classList.toggle("country-adding__choose-country--expand"),e.parentElement&&e.parentElement.classList.toggle("country-adding--expand");let t=document.querySelector(".country-adding__available-countries");t&&t.classList.toggle("country-adding__available-countries--show")})}function initErrorStatus(e,t){t.addEventListener("submit",function(t){t.preventDefault();for(let n=0;n<e.length;n++)e[n].value||(t.preventDefault(),e[n].classList.add("entertainment-list__plan--error"),e[n].parentElement&&e[n].parentElement.classList.add("entertainment-list__item--error"))});for(let t=0;t<e.length;t++)e[t].addEventListener("focus",function(){e[t].classList.remove("entertainment-list__plan--error"),e[t].parentElement&&e[t].parentElement.classList.remove("entertainment-list__item--error")})}function addListenersForKidsCheckboxes(e){e.addEventListener("keydown",function(t){" "===t.key&&(t.preventDefault(),changeKidsCheckbox(e,e.querySelector("input")))}),e.addEventListener("click",function(){changeKidsCheckbox(e,e.querySelector("input"))})}function changeKidsCheckbox(e,t){switch(e.getAttribute("aria-checked")){case"true":e.setAttribute("aria-checked","false"),t.removeAttribute("checked"),e.querySelector("span").classList.add("dates__checkbox-indicator--selected");break;case"false":e.setAttribute("aria-checked","true"),t.setAttribute("checked","checked"),e.querySelector("span").classList.remove("dates__checkbox-indicator--selected")}}function addListenersForTransportCheckboxes(e){for(let t=0;t<e.length;t++)e[t].addEventListener("keydown",function(n){" "===n.key&&(n.preventDefault(),changeTransportCheckbox(e[t],e[t].querySelector("input")))}),e[t].addEventListener("click",function(){changeTransportCheckbox(e[t],e[t].querySelector("input"))})}function changeTransportCheckbox(e,t){switch(e.getAttribute("aria-checked")){case"true":e.setAttribute("aria-checked","false"),t.removeAttribute("checked"),e.querySelector("div").classList.add("transport--inactive");break;case"false":e.setAttribute("aria-checked","true"),t.setAttribute("checked","checked"),e.querySelector("div").classList.remove("transport--inactive")}}function addListenersForCheckboxes(e){for(let t=0;t<e.length;t++)e[t].addEventListener("keydown",function(n){" "===n.key&&(n.preventDefault(),changeCheckbox(e[t],e[t].querySelector("input")))}),e[t].addEventListener("click",function(){changeCheckbox(e[t],e[t].querySelector("input"))})}function changeCheckbox(e,t){switch(e.getAttribute("aria-checked")){case"true":e.setAttribute("aria-checked","false"),t.removeAttribute("checked"),e.classList.remove("filter-options-list__checkbox--selected");break;case"false":e.setAttribute("aria-checked","true"),t.setAttribute("checked","checked"),e.classList.add("filter-options-list__checkbox--selected")}}function initializeCollapseAction(e){for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(){e[t].children[0]&&e[t].children[0].classList.toggle("filter-options-list__button--collapse"),e[t].nextElementSibling.nextElementSibling&&e[t].nextElementSibling.nextElementSibling.classList.toggle("js-collapse"),e[t].nextElementSibling.nextElementSibling&&e[t].nextElementSibling.nextElementSibling.classList.contains("filter-options-list__wrapper--numbers")&&e[t].nextElementSibling.nextElementSibling.nextElementSibling.classList.toggle("js-collapse")})}function initializeFilterCountries(e,t,n,i,s,l){e.classList.add("filter__btn--show"),t.classList.add("mainland-list--hidden"),n.classList.add("alphabet-list--hidden"),i.classList.add("filter__by-countries--hidden"),l.classList.add("filter__wrapper--show"),e.addEventListener("click",function(){collapseExpandFilterCountries(e,t,n,i,s)}),s.addEventListener("click",function(){collapseExpandFilterCountries(e,t,n,i,s)})}function collapseExpandFilterCountries(e,t,n,i,s){e.classList.toggle("filter__btn--close"),t.classList.toggle("mainland-list--hidden"),n.classList.toggle("alphabet-list--hidden"),i.classList.toggle("filter__by-countries--hidden"),s.classList.toggle("filter__btn-collapse--show"),e.classList.contains("filter__btn--close")?e.innerText="Свернуть":e.innerText="Показать все"}function initializeMenu(){let e=document.querySelector(".js-toggle"),t=document.querySelector(".js-menu"),n=document.querySelector(".js-logo"),i=document.querySelector(".js-header"),s=document.querySelector(".js-auth-button"),l=document.querySelectorAll(".contacts-list__auth-button")[1];e.classList.add("header__toggle--show"),e.classList.add("header__toggle--open"),s.classList.add("button--clone-visible"),l.classList.add("contacts-list__auth-button--hidden");let o=!0;e.addEventListener("click",function(){t.classList.toggle("main-nav--hidden"),i.classList.toggle("header__wrapper--blue"),o=!(e.classList.contains("header__toggle--scrollable")||!e.classList.contains("header__toggle--opened")),e.classList.toggle("header__toggle--opened"),setImagesToWhite(o,n),o=!o,checkIfPageIsOnTheTop(e,n,i)}),t.classList.add("main-nav--hidden"),i.classList.add("header__wrapper--blue"),setImagesToWhite(o,n),o=!o,window.addEventListener("scroll",function(){checkIfPageIsOnTheTop(e,n,i)})}function checkIfPageIsOnTheTop(e,t,n){0!==window.pageYOffset||e.classList.contains("header__toggle--opened")?(n.classList.add("header__wrapper--scrollable"),e.classList.add("header__toggle--scrollable"),setImagesToWhite(!1,t),isMenuColorWhite=!1):(n.classList.remove("header__wrapper--scrollable"),e.classList.remove("header__toggle--scrollable"),setImagesToWhite(!0,t),isMenuColorWhite=!0)}function setImagesToWhite(e,t){let n="blue";e&&(n="white"),t.src="img/logo-mobile-"+n+"@1x.png",t.srcset="img/logo-mobile-"+n+"@2x.png 2x",document.querySelector(".js-header-logo-tablet-png").srcset="img/logo-tablet-"+n+"@1x.png 1x, img/logo-tablet-"+n+"@2x.png 2x",document.querySelector(".js-header-logo-desktop-png").srcset="img/logo-desktop-"+n+"@1x.png 1x, img/logo-desktop-"+n+"@2x.png 2x",document.querySelector(".js-header-logo-mobile-webp").srcset="img/logo-mobile-"+n+"@1x.webp 1x, img/logo-mobile-"+n+"@2x.webp 2x",document.querySelector(".js-header-logo-tablet-webp").srcset="img/logo-tablet-"+n+"@1x.webp 1x, img/logo-tablet-"+n+"@2x.webp 2x",document.querySelector(".js-header-logo-desktop-webp").srcset="img/logo-desktop-"+n+"@1x.webp 1x, img/logo-desktop-"+n+"@2x.webp 2x"}function initModalWindow(e){e.classList.add("modal--show"),e.querySelector(".js-close-btn").addEventListener("click",function(){e.classList.remove("modal--show")}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.classList.remove("modal--show")})}function initializeInteractiveMap(e,t){ymaps.ready(function(){e.classList.toggle("map__wrap--hide"),t.classList.toggle("map__interactive-map--show");let n=new ymaps.Map("map",{center:[59.93625,30.321222],zoom:16,controls:[]},{searchControlProvider:"yandex#search"}),i=(new ymaps.templateLayoutFactory.createClass("<div style='color: #FFFFFF; font-weight: bold;'>$[properties.iconContent]</div>"),new ymaps.Placemark([59.936309,30.321222],{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:"img/map-marker.svg",iconImageSize:[54,54],iconImageOffset:[-27,-27]}));n.geoObjects.add(i)})}window.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".map__wrap"),t=document.querySelector(".map__interactive-map");e&&t&&initializeInteractiveMap(e,t);let n=document.querySelector(".js-tariffs-btn");n&&n.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(".modal");t&&initModalWindow(t)}),initializeMenu();let i=document.querySelector(".js-filter-button"),s=document.querySelector(".js-filter-mainland"),l=document.querySelector(".js-filter-alphabet"),o=document.querySelector(".js-filter-body"),r=document.querySelector(".js-filter-countries-collapse"),a=document.querySelector(".js-filter-wrapper");i&&s&&o&&r&&a&&l&&initializeFilterCountries(i,s,l,o,r,a);let c=document.querySelectorAll(".filter-options-list__title");c&&initializeCollapseAction(c);let d=document.querySelectorAll(".filter-options-list__checkbox");d&&addListenersForCheckboxes(d);let u=document.querySelectorAll(".vehicles-list__checkbox");u&&addListenersForTransportCheckboxes(u);let g=document.querySelector(".dates__checkbox");g&&addListenersForKidsCheckboxes(g);let m=document.querySelectorAll(".entertainment-list__plan"),p=document.querySelector(".add-plan__form");m&&p&&initErrorStatus(m,p);let h=document.querySelector(".country-adding__choose-country");h&&expandCollapseChooseCountryMenu(h);let b=document.querySelectorAll(".mainland-list__link");b&&initMainlandSwitcher(b);let _=document.querySelector(".register__email"),f=document.querySelector(".register");_&&f&&initErrorEmail(_,f)});
//# sourceMappingURL=script.min.js.map
